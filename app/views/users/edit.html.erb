<section class="cuerpo">
	<div class="container">
		<div class="row">
			<h1>Editar usuario</h1>
		</div>    	
			<%= form_for(@user, :url => { :action => 'update' } ) do |f| %>
			<div class="row blanco campos">
				<% if @user.errors.any? %>
					<div id="error_explanation" class="col-xs-12 col-sm-12">
						<h2>
							<%= pluralize(@user.errors.count, "error") %> prohibited this user from being saved:
						</h2>

						<ul>
							<% @user.errors.full_messages.each do |message| %>
								<li><%= message %></li>
							<% end %>
						</ul>
					</div>
				<% end %>

			    <%= devise_error_messages! %>
		
			    <div class="col-xs-12 col-sm-12" style="margin-top: 15px;">
			        <%= f.label :username, 'Nombre de usuario' %><br />
			        <%= f.text_field :username, autofocus: true, class: 'form-control' %>
			    </div>
			    <div class="col-xs-12 col-sm-12" style="margin-top: 15px;">
			        <%= f.label :fullname, 'Nombre completo' %><br />
			        <%= f.text_field :fullname, autofocus: true, class: 'form-control' %>
			    </div>
			    <div class="col-xs-12 col-sm-12" style="margin-top: 15px;">
			        <%= f.label :email %><br />
			        <%= f.email_field :email, autofocus: true, class: 'form-control' %>
			    </div>
				<% if current_user.admin? %>
				    <div class="col-xs-12 col-sm-12" style="margin-top: 15px;">
				    	<%= f.label :admin, 'Rol' %><br />
				    	<%= f.select :admin, [['Admin', true], ['User', false]], class: 'form-control' %>
				    </div>
			    <% end -%>
			    <div class="col-xs-12 col-sm-12" style="margin-top: 15px;">
			    	<%= f.label :image, 'Imagen' %>
			    	<%= f.file_field :image %>
			    	<% if f.object.image? %>
			    		<div class="col-xs-12 col-sm-12" style="margin-top: 15px;">
				    		<%= image_tag @user.image, class: 'img-responsive img-thumbnail' %>
				    	</div>
			    	<% end %>
			    </div>
			    <div class="col-xs-12 col-sm-12" style="margin-top: 15px;">
			        <%= f.label :password %>
			        <% if @minimum_password_length %>
			            <em>(<%= @minimum_password_length %> characters minimum)</em>
			        <% end %>
			        <br />
			        <%= f.password_field :password, autocomplete: "off", class: 'form-control' %>
			    </div>
			    <div class="col-xs-12 col-sm-12" style="margin-top: 15px;">
			        <%= f.label :password_confirmation, 'Confirmar password' %>
			        <br />
			        <%= f.password_field :password_confirmation, autocomplete: "off", class: 'form-control' %>
			    </div>
			    <br />
			    <div class="col-xs-12 col-sm-12" style="margin-top: 15px;">
			        <%= f.submit 'Editar Usuario', class: 'btn btn-create btn-ingresar' %>
			    </div>
			    <div class="col-xs-12 col-sm-12" style="margin-top: 15px;">
				    <%= link_to 'Volver', admin_path %>
			    </div>
			</div>
		<% end %>
	</div>
</section>